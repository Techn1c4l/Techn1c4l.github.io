import{k as Ue,r as S,a as t,aV as je,aW as W,o as Ke,f as We,aX as Xe,g as de,ak as He,h as b,v as Ye,aY as Ze,c as Je,aZ as ea,w as aa,ab as ta,L as me,O as ve,W as la,T as h,R as k,S as _,X as z,a_ as na,q as ra,P as oa,Q as T,av as ua,au as oe,V as ue,t as sa,a1 as se,aT as ia,a0 as ca,aU as da}from"./index-CO9n1Tws.js";import{b as I,Q as ma}from"./QSelect-DNR-3BS-.js";import{C as va}from"./ClosePopup-CYRRlbH2.js";import{u as fa}from"./vue-i18n-Ci0i4QWW.js";import{u as ie}from"./use-dialog-plugin-component-Ch1TYJrn.js";import{U as fe,K as ba,q as be,C as N,L as pa,M as ka}from"./_plugin-vue_export-helper-D0AqdkS5.js";import{T as Ca}from"./TouchPan-DXDy5DbD.js";const ce="q-slider__marker-labels",ga=l=>({value:l}),xa=({marker:l})=>b("div",{key:l.value,style:l.style,class:l.classes},l.label),pe=[34,37,40,33,39,38],ya={...We,...Xe,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:l=>l>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ha=["pan","update:modelValue","change"];function _a({updateValue:l,updatePosition:y,getDragging:o,formAttrs:r}){const{props:e,emit:C,slots:p,proxy:{$q:i}}=de(),M=Ue(e,i),B=Ze(r),g=S(!1),x=S(!1),d=S(!1),u=S(!1),f=t(()=>e.vertical===!0?"--v":"--h"),E=t(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),V=t(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(i.lang.rtl===!0)),$=t(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),q=t(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),m=t(()=>e.disable!==!0&&e.readonly!==!0&&$.value<q.value),w=t(()=>{if(e.step===0)return n=>n;const a=(String(e.step).trim().split(".")[1]||"").length;return n=>parseFloat(n.toFixed(a))}),P=t(()=>e.step===0?1:e.step),ke=t(()=>m.value===!0?e.tabindex||0:-1),R=t(()=>e.max-e.min),X=t(()=>q.value-$.value),D=t(()=>G($.value)),Q=t(()=>G(q.value)),A=t(()=>e.vertical===!0?V.value===!0?"bottom":"top":V.value===!0?"right":"left"),H=t(()=>e.vertical===!0?"height":"width"),Ce=t(()=>e.vertical===!0?"width":"height"),Y=t(()=>e.vertical===!0?"vertical":"horizontal"),ge=t(()=>{const a={role:"slider","aria-valuemin":$.value,"aria-valuemax":q.value,"aria-orientation":Y.value,"data-step":e.step};return e.disable===!0?a["aria-disabled"]="true":e.readonly===!0&&(a["aria-readonly"]="true"),a}),xe=t(()=>`q-slider q-slider${f.value} q-slider--${g.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(m.value===!0?" q-slider--editable":""))+(d.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(M.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+f.value:""));function F(a){const n="q-slider__"+a;return`${n} ${n}${f.value} ${n}${f.value}${E.value}`}function Z(a){const n="q-slider__"+a;return`${n} ${n}${f.value}`}const ye=t(()=>{const a=e.selectionColor||e.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),he=t(()=>Z("markers")+" absolute overflow-hidden"),_e=t(()=>Z("track-container")),Se=t(()=>F("pin")),$e=t(()=>F("label")),Me=t(()=>F("text-container")),Ve=t(()=>F("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),qe=t(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),we=t(()=>{const a={[Ce.value]:e.trackSize};return e.trackImg!==void 0&&(a.backgroundImage=`url(${e.trackImg}) !important`),a}),Le=t(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),J=t(()=>{const a=Q.value-D.value,n={[A.value]:`${100*D.value}%`,[H.value]:a===0?"2px":`${100*a}%`};return e.innerTrackImg!==void 0&&(n.backgroundImage=`url(${e.innerTrackImg}) !important`),n});function Be(a){const{min:n,max:s,step:c}=e;let v=n+a*(s-n);if(c>0){const L=(v-$.value)%c;v+=(Math.abs(L)>=c/2?(L<0?-1:1)*c:0)-L}return v=w.value(v),I(v,$.value,q.value)}function G(a){return R.value===0?0:(a-e.min)/R.value}function Pe(a,n){const s=He(a),c=e.vertical===!0?I((s.top-n.top)/n.height,0,1):I((s.left-n.left)/n.width,0,1);return I(V.value===!0?1-c:c,D.value,Q.value)}const ee=t(()=>je(e.markers)===!0?e.markers:P.value),ae=t(()=>{const a=[],n=ee.value,s=e.max;let c=e.min;do a.push(c),c+=n;while(c<s);return a.push(s),a}),te=t(()=>{const a=` ${ce}${f.value}-`;return ce+`${a}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${V.value===!0?"rtl":"ltr"}`}),O=t(()=>e.markerLabels===!1?null:Te(e.markerLabels).map((a,n)=>({index:n,value:a.value,label:a.label||a.value,classes:te.value+(a.classes!==void 0?" "+a.classes:""),style:{...ne(a.value),...a.style||{}}}))),le=t(()=>({markerList:O.value,markerMap:Ne.value,classes:te.value,getStyle:ne})),Ie=t(()=>{const a=X.value===0?"2px":100*ee.value/X.value;return{...J.value,backgroundSize:e.vertical===!0?`2px ${a}%`:`${a}% 2px`}});function Te(a){if(a===!1)return null;if(a===!0)return ae.value.map(ga);if(typeof a=="function")return ae.value.map(s=>{const c=a(s);return W(c)===!0?{...c,value:s}:{value:s,label:c}});const n=({value:s})=>s>=e.min&&s<=e.max;return Array.isArray(a)===!0?a.map(s=>W(s)===!0?s:{value:s}).filter(n):Object.keys(a).map(s=>{const c=a[s],v=Number(s);return W(c)===!0?{...c,value:v}:{value:v,label:c}}).filter(n)}function ne(a){return{[A.value]:`${100*(a-e.min)/R.value}%`}}const Ne=t(()=>{if(e.markerLabels===!1)return null;const a={};return O.value.forEach(n=>{a[n.value]=n}),a});function Re(){if(p["marker-label-group"]!==void 0)return p["marker-label-group"](le.value);const a=p["marker-label"]||xa;return O.value.map(n=>a({marker:n,...le.value}))}const De=t(()=>[[Ca,Ae,void 0,{[Y.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ae(a){a.isFinal===!0?(u.value!==void 0&&(y(a.evt),a.touch===!0&&l(!0),u.value=void 0,C("pan","end")),g.value=!1,d.value=!1):a.isFirst===!0?(u.value=o(a.evt),y(a.evt),l(),g.value=!0,C("pan","start")):(y(a.evt),l())}function re(){d.value=!1}function Fe(a){y(a,o(a)),l(),x.value=!0,g.value=!0,document.addEventListener("mouseup",U,!0)}function U(){x.value=!1,g.value=!1,l(!0),re(),document.removeEventListener("mouseup",U,!0)}function ze(a){y(a,o(a)),l(!0)}function Ee(a){pe.includes(a.keyCode)&&l(!0)}function Qe(a){if(e.vertical===!0)return null;const n=i.lang.rtl!==e.reverse?1-a:a;return{transform:`translateX(calc(${2*n-1} * ${e.thumbSize} / 2 + ${50-100*n}%))`}}function Ge(a){const n=t(()=>x.value===!1&&(d.value===a.focusValue||d.value==="both")?" q-slider--focus":""),s=t(()=>`q-slider__thumb q-slider__thumb${f.value} q-slider__thumb${f.value}-${V.value===!0?"rtl":"ltr"} absolute non-selectable`+n.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),c=t(()=>({width:e.thumbSize,height:e.thumbSize,[A.value]:`${100*a.ratio.value}%`,zIndex:d.value===a.focusValue?2:void 0})),v=t(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),L=t(()=>Qe(a.ratio.value)),j=t(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const K=[b("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[b("path",{d:e.thumbPath})]),b("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(K.push(b("div",{class:Se.value+" absolute fit no-pointer-events"+v.value},[b("div",{class:$e.value,style:{minWidth:e.thumbSize}},[b("div",{class:Me.value,style:L.value},[b("span",{class:j.value},a.label.value)])])])),e.name!==void 0&&e.disable!==!0&&B(K,"push")),b("div",{class:s.value,style:c.value,...a.getNodeData()},K)}}function Oe(a,n,s,c){const v=[];e.innerTrackColor!=="transparent"&&v.push(b("div",{key:"inner",class:Le.value,style:J.value})),e.selectionColor!=="transparent"&&v.push(b("div",{key:"selection",class:ye.value,style:a.value})),e.markers!==!1&&v.push(b("div",{key:"marker",class:he.value,style:Ie.value})),c(v);const L=[Ye("div",{key:"trackC",class:_e.value,tabindex:n.value,...s.value},[b("div",{class:qe.value,style:we.value},v)],"slide",m.value,()=>De.value)];if(e.markerLabels!==!1){const j=e.switchMarkerLabelsSide===!0?"unshift":"push";L[j](b("div",{key:"markerL",class:Ve.value},Re()))}return L}return Ke(()=>{document.removeEventListener("mouseup",U,!0)}),{state:{active:g,focus:d,preventFocus:x,dragging:u,editable:m,classes:xe,tabindex:ke,attributes:ge,roundValueFn:w,keyStep:P,trackLen:R,innerMin:$,innerMinRatio:D,innerMax:q,innerMaxRatio:Q,positionProp:A,sizeProp:H,isReversed:V},methods:{onActivate:Fe,onMobileClick:ze,onBlur:re,onKeyup:Ee,getContent:Oe,getThumbRenderFn:Ge,convertRatioToModel:Be,convertModelToRatio:G,getDraggingRatio:Pe}}}const Sa=()=>({}),$a=Je({name:"QSlider",props:{...ya,modelValue:{required:!0,default:null,validator:l=>typeof l=="number"||l===null},labelValue:[String,Number]},emits:ha,setup(l,{emit:y}){const{proxy:{$q:o}}=de(),{state:r,methods:e}=_a({updateValue:f,updatePosition:V,getDragging:E,formAttrs:ea(l)}),C=S(null),p=S(0),i=S(0);function M(){i.value=l.modelValue===null?r.innerMin.value:I(l.modelValue,r.innerMin.value,r.innerMax.value)}aa(()=>`${l.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,M),M();const B=t(()=>e.convertModelToRatio(i.value)),g=t(()=>r.active.value===!0?p.value:B.value),x=t(()=>{const m={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(g.value-r.innerMinRatio.value)}%`};return l.selectionImg!==void 0&&(m.backgroundImage=`url(${l.selectionImg}) !important`),m}),d=e.getThumbRenderFn({focusValue:!0,getNodeData:Sa,ratio:g,label:t(()=>l.labelValue!==void 0?l.labelValue:i.value),thumbColor:t(()=>l.thumbColor||l.color),labelColor:t(()=>l.labelColor),labelTextColor:t(()=>l.labelTextColor)}),u=t(()=>r.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:$,onBlur:e.onBlur,onKeydown:q,onKeyup:e.onKeyup});function f(m){i.value!==l.modelValue&&y("update:modelValue",i.value),m===!0&&y("change",i.value)}function E(){return C.value.getBoundingClientRect()}function V(m,w=r.dragging.value){const P=e.getDraggingRatio(m,w);i.value=e.convertRatioToModel(P),p.value=l.snap!==!0||l.step===0?P:e.convertModelToRatio(i.value)}function $(){r.focus.value=!0}function q(m){if(pe.includes(m.keyCode)===!1)return;ta(m);const w=([34,33].includes(m.keyCode)?10:1)*r.keyStep.value,P=([34,37,40].includes(m.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(l.vertical===!0?-1:1)*w;i.value=I(r.roundValueFn.value(i.value+P),r.innerMin.value,r.innerMax.value),f()}return()=>{const m=e.getContent(x,r.tabindex,u,w=>{w.push(d())});return b("div",{ref:C,class:r.classes.value+(l.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":l.modelValue},m)}}}),Ma={class:"column q-col-gutter-y-sm"},Va={class:"col-auto row justify-center items-center q-col-gutter-x-sm"},qa={class:"col text-center"},wa={class:"col"},La={class:"col text-center"},Ba={class:"col-auto"},Pa=me({__name:"PlayerCountInput",props:{modelValue:{type:Number,required:!0},minimum:{type:Number,required:!0},maximum:{type:Number,required:!0}},emits:["update:modelValue"],setup(l,{emit:y}){const o=l,r=y,e=t(()=>"#".repeat(String(Math.trunc(o.maximum)).length)),C=t(()=>o.modelValue<o.maximum),p=t(()=>o.modelValue>o.minimum),{PlainColor:i}=fe();function M(){(o.modelValue<o.minimum||o.modelValue>o.maximum)&&r("update:modelValue",ba(o.modelValue,o.minimum,o.maximum))}function B(){C.value&&r("update:modelValue",o.modelValue+1)}function g(){p.value&&r("update:modelValue",o.modelValue-1)}function x(d){const u=Number(d);u>=o.minimum&&u<=o.maximum&&r("update:modelValue",u)}return(d,u)=>(ve(),la("div",Ma,[h("div",Va,[h("div",qa,[k(z,{onClick:u[0]||(u[0]=()=>g()),disable:!p.value,icon:"sym_s_remove",size:"lg",color:_(i),outline:""},null,8,["disable","color"])]),h("div",wa,[k(na,{class:"player-count-input","model-value":o.modelValue,type:"text",mask:e.value,"onUpdate:modelValue":u[1]||(u[1]=f=>x(f)),onBlur:u[2]||(u[2]=()=>M()),"input-class":"text-center",maxlength:"2","unmasked-value":"",outlined:""},null,8,["model-value","mask"])]),h("div",La,[k(z,{onClick:u[3]||(u[3]=()=>B()),disable:!C.value,icon:"sym_s_add",size:"lg",color:_(i),outline:""},null,8,["disable","color"])])]),h("div",Ba,[k($a,{"model-value":o.modelValue,min:o.minimum,max:o.maximum,"onUpdate:modelValue":u[4]||(u[4]=f=>x(f))},null,8,["model-value","min","max"])])]))}}),Ia=be(Pa,[["__scopeId","data-v-2a1fb682"]]),Ta={class:"col"},Na={class:"text-subtitle1"},Ra={class:"col-auto"},Da={class:"column fit no-wrap q-col-gutter-y-md"},Aa={class:"col-auto text-caption"},Fa={class:"col-auto"},za=me({__name:"PlayerSessionCreateDialog",emits:[...ie.emits],setup(l){const{dialogRef:y,onDialogOK:o,onDialogHide:r}=ie(),{t:e}=fa({}),C=S([]),p=S(N.Game.PlayerDefaultCount),i=S(void 0),M=t(()=>pa(p.value,N.Game.PlayerMinimumCount,N.Game.PlayerMaximumCount)&&i.value!==void 0),{ButtonStyle:B}=fe();function g(){o({PlayerCount:p.value,Edition:i.value})}return ra(()=>{C.value=ka.map(x=>({value:x.Name,label:e(x.Label)})),C.value[0]!==void 0&&(i.value=C.value[0].value)}),(x,d)=>(ve(),oa(da,{ref_key:"dialogRef",ref:y,onHide:d[3]||(d[3]=()=>_(r)()),persistent:""},{default:T(()=>[k(ua,{class:"q-dialog-plugin dialog-card column no-wrap","non-square":""},{default:T(()=>[k(oe,{class:"col-auto row items-center justify-between"},{default:T(()=>[h("div",Ta,[h("div",Na,ue(_(e)("Game.GameSetup")),1)]),h("div",Ra,[sa(k(z,{icon:"s_close",round:"",flat:""},null,512),[[va]])])]),_:1}),k(se),k(oe,{class:"col scroll"},{default:T(()=>[h("div",Da,[h("div",Aa,ue(_(e)("Game.NumberOfPlayers")),1),k(Ia,{class:"col-auto",modelValue:p.value,"onUpdate:modelValue":d[0]||(d[0]=u=>p.value=u),minimum:_(N).Game.PlayerMinimumCount,maximum:_(N).Game.PlayerMaximumCount},null,8,["modelValue","minimum","maximum"]),h("div",Fa,[k(ma,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=u=>i.value=u),options:C.value,label:_(e)("Game.Edition"),behavior:"menu","map-options":"","emit-value":"","hide-bottom-space":"",outlined:""},null,8,["modelValue","options","label"])])])]),_:1}),k(se),k(ia,{class:"col-auto",align:"right"},{default:T(()=>[k(z,ca({onClick:d[2]||(d[2]=()=>g()),label:_(e)("General.Accept"),disable:!M.value,color:"primary"},_(B),{"no-caps":""}),null,16,["label","disable"])]),_:1})]),_:1})]),_:1},512))}}),Wa=be(za,[["__scopeId","data-v-17534e0e"]]);export{Wa as default};
