import{c as oe,i as $e,e as X,a as h,h as $,b as fe,g as le,l as xt,z as wt,L as se,a5 as Tt,O as g,P as E,Q as S,S as u,T as x,a6 as Ge,R as C,r as V,o as ot,q as qt,a7 as lt,t as It,a8 as $t,a9 as At,aa as Lt,ab as ge,Z as te,K as Dt,ac as we,m as Ae,w as ce,y as Gt,ad as Bt,ae as Rt,af as Et,ag as re,B as Qt,ah as Mt,ai as pe,aj as Te,ak as He,al as qe,am as st,an as Nt,a3 as zt,f as it,k as rt,v as Ot,ao as Vt,ap as Ft,aq as jt,W as U,V as Q,ar as Be,Y as ee,as as Ht,at as ut,U as ye,$ as de,au as Ue,av as Ut,a1 as Ke,X as Le,aw as We}from"./index-CO9n1Tws.js";import{u as ve}from"./vue-i18n-Ci0i4QWW.js";import{C as Xe,Q as ct,r as Kt,s as Ye,t as Ze,v as Wt,U as dt,e as De,w as Xt,x as Ce,y as Ie,G as Re,u as ft,a as Yt,z as ue,d as Je,_ as H,A as Zt,B as Jt,$ as en,i as tn,j as nn,k as an,l as on,D as ln,E as sn,F as rn,H as un,I as cn}from"./_plugin-vue_export-helper-D0AqdkS5.js";import{P as vt}from"./PlayerCharacterIcon-CLmVi5JE.js";import{_ as et}from"./EmptyPlaceholder.vue_vue_type_script_setup_true_lang-BFJLcYJJ.js";const dn=oe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:a}){const{proxy:{$q:o}}=le(),i=$e(xt,X);if(i===X)return console.error("QPage needs to be a deep child of QLayout"),X;if($e(wt,X)===X)return console.error("QPage needs to be child of QPageContainer"),X;const t=h(()=>{const d=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof e.styleFn=="function"){const k=i.isContainer.value===!0?i.containerHeight.value:o.screen.height;return e.styleFn(d,k)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-d+"px":o.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":o.screen.height-d+"px"}}),s=h(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>$("main",{class:s.value,style:t.value},fe(a.default))}}),fn={class:"page-container"},vn=se({__name:"ResponsivePage",emits:["sizeChanged"],setup(e,{emit:a}){const o=a,i=Tt("PageElement");function n(){if(i.value!==null){const t=document.querySelector(".page-container");if(t!==null){const s=getComputedStyle(i.value.$el),d=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),k=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth);t.style.height=(parseFloat(i.value.$el.style.minHeight)-d-k)*Xe.General.ResponsivePageSizeFactor+"px"}o("sizeChanged")}}return(t,s)=>(g(),E(u(dn),{ref_key:"PageElement",ref:i},{default:S(()=>[x("div",fn,[Ge(t.$slots,"default")]),C(ct,{onResize:s[0]||(s[0]=()=>n()),debounce:u(Xe).General.ResponsivePageResizeDebounce},null,8,["debounce"])]),_:3},512))}});let mn=0;const bn=["click","keydown"],hn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${mn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function pn(e,a,o,i){const n=$e(lt,X);if(n===X)return console.error("QTab/QRouteTab component needs to be child of QTabs"),X;const{proxy:t}=le(),s=V(null),d=V(null),k=V(null),P=h(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),f=h(()=>n.currentModel.value===e.name),A=h(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(f.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),w=h(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),D=h(()=>e.disable===!0||n.hasFocus.value===!0||f.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function L(p,G){if(G!==!0&&s.value!==null&&s.value.focus(),e.disable!==!0){n.updateModel({name:e.name}),o("click",p);return}}function q(p){At(p,[13,32])?L(p,!0):Lt(p)!==!0&&p.keyCode>=35&&p.keyCode<=40&&p.altKey!==!0&&p.metaKey!==!0&&n.onKbdNavigate(p.keyCode,t.$el)===!0&&ge(p),o("keydown",p)}function M(){const p=n.tabProps.value.narrowIndicator,G=[],N=$("div",{ref:k,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&G.push($(te,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&G.push($("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&G.push(e.alertIcon!==void 0?$(te,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):$("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),p===!0&&G.push(N);const z=[$("div",{class:"q-focus-helper",tabindex:-1,ref:s}),$("div",{class:w.value},Dt(a.default,G))];return p===!1&&z.push(N),z}const j={name:h(()=>e.name),rootRef:d,tabIndicatorRef:k,routeData:i};ot(()=>{n.unregisterTab(j)}),qt(()=>{n.registerTab(j)});function K(p,G){const N={ref:d,class:A.value,tabindex:D.value,role:"tab","aria-selected":f.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:L,onKeydown:q,...G};return It($(p,N,M()),[[$t,P.value]])}return{renderTab:K,$tabs:n}}const tt=oe({name:"QTab",props:hn,emits:bn,setup(e,{slots:a,emit:o}){const{renderTab:i}=pn(e,a,o);return()=>i("div")}});function Cn(e,a,o){const i=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const gn=["left","center","right","justify"],yn=oe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>gn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:i}=le(),{$q:n}=i,{registerTick:t}=we(),{registerTick:s}=we(),{registerTick:d}=we(),{registerTimeout:k,removeTimeout:P}=Ae(),{registerTimeout:f,removeTimeout:A}=Ae(),w=V(null),D=V(null),L=V(e.modelValue),q=V(!1),M=V(!0),j=V(!1),K=V(!1),p=[],G=V(0),N=V(!1);let z=null,c=null,y;const b=h(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Cn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),me=h(()=>{const l=G.value,r=L.value;for(let m=0;m<l;m++)if(p[m].name.value===r)return!0;return!1}),_e=h(()=>`q-tabs__content--align-${q.value===!0?"left":K.value===!0?"justify":e.align}`),ke=h(()=>`q-tabs row no-wrap items-center q-tabs--${q.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Pe=h(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+_e.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),v=h(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),I=h(()=>e.vertical!==!0&&n.lang.rtl===!0),F=h(()=>Kt===!1&&I.value===!0);ce(I,ae),ce(()=>e.modelValue,l=>{Y({name:l,setCurrent:!0,skipEmit:!0})}),ce(()=>e.outsideArrows,be);function Y({name:l,setCurrent:r,skipEmit:m}){L.value!==l&&(m!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",l),(r===!0||e["onUpdate:modelValue"]===void 0)&&(mt(L.value,l),L.value=l))}function be(){t(()=>{w.value&&Ee({width:w.value.offsetWidth,height:w.value.offsetHeight})})}function Ee(l){if(v.value===void 0||D.value===null)return;const r=l[v.value.container],m=Math.min(D.value[v.value.scroll],Array.prototype.reduce.call(D.value.children,(R,T)=>R+(T[v.value.content]||0),0)),B=r>0&&m>r;q.value=B,B===!0&&s(ae),K.value=r<parseInt(e.breakpoint,10)}function mt(l,r){const m=l!=null&&l!==""?p.find(R=>R.name.value===l):null,B=r!=null&&r!==""?p.find(R=>R.name.value===r):null;if(he===!0)he=!1;else if(m&&B){const R=m.tabIndicatorRef.value,T=B.tabIndicatorRef.value;z!==null&&(clearTimeout(z),z=null),R.style.transition="none",R.style.transform="none",T.style.transition="none",T.style.transform="none";const _=R.getBoundingClientRect(),O=T.getBoundingClientRect();T.style.transform=e.vertical===!0?`translate3d(0,${_.top-O.top}px,0) scale3d(1,${O.height?_.height/O.height:1},1)`:`translate3d(${_.left-O.left}px,0,0) scale3d(${O.width?_.width/O.width:1},1,1)`,d(()=>{z=setTimeout(()=>{z=null,T.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",T.style.transform="none"},70)})}B&&q.value===!0&&ne(B.rootRef.value)}function ne(l){const{left:r,width:m,top:B,height:R}=D.value.getBoundingClientRect(),T=l.getBoundingClientRect();let _=e.vertical===!0?T.top-B:T.left-r;if(_<0){D.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(_),ae();return}_+=e.vertical===!0?T.height-R:T.width-m,_>0&&(D.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(_),ae())}function ae(){const l=D.value;if(l===null)return;const r=l.getBoundingClientRect(),m=e.vertical===!0?l.scrollTop:Math.abs(l.scrollLeft);I.value===!0?(M.value=Math.ceil(m+r.width)<l.scrollWidth-1,j.value=m>0):(M.value=m>0,j.value=e.vertical===!0?Math.ceil(m+r.height)<l.scrollHeight:Math.ceil(m+r.width)<l.scrollWidth)}function Qe(l){c!==null&&clearInterval(c),c=setInterval(()=>{pt(l)===!0&&Z()},5)}function Me(){Qe(F.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ne(){Qe(F.value===!0?0:Number.MAX_SAFE_INTEGER)}function Z(){c!==null&&(clearInterval(c),c=null)}function bt(l,r){const m=Array.prototype.filter.call(D.value.children,O=>O===r||O.matches&&O.matches(".q-tab.q-focusable")===!0),B=m.length;if(B===0)return;if(l===36)return ne(m[0]),m[0].focus(),!0;if(l===35)return ne(m[B-1]),m[B-1].focus(),!0;const R=l===(e.vertical===!0?38:37),T=l===(e.vertical===!0?40:39),_=R===!0?-1:T===!0?1:void 0;if(_!==void 0){const O=I.value===!0?-1:1,W=m.indexOf(r)+_*O;return W>=0&&W<B&&(ne(m[W]),m[W].focus({preventScroll:!0})),!0}}const ht=h(()=>F.value===!0?{get:l=>Math.abs(l.scrollLeft),set:(l,r)=>{l.scrollLeft=-r}}:e.vertical===!0?{get:l=>l.scrollTop,set:(l,r)=>{l.scrollTop=r}}:{get:l=>l.scrollLeft,set:(l,r)=>{l.scrollLeft=r}});function pt(l){const r=D.value,{get:m,set:B}=ht.value;let R=!1,T=m(r);const _=l<T?-1:1;return T+=_*5,T<0?(R=!0,T=0):(_===-1&&T<=l||_===1&&T>=l)&&(R=!0,T=l),B(r,T),ae(),R}function ze(l,r){for(const m in l)if(l[m]!==r[m])return!1;return!0}function Ct(){let l=null,r={matchedLen:0,queryDiff:9999,hrefLen:0};const m=p.filter(_=>_.routeData!==void 0&&_.routeData.hasRouterLink.value===!0),{hash:B,query:R}=i.$route,T=Object.keys(R).length;for(const _ of m){const O=_.routeData.exact.value===!0;if(_.routeData[O===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:W,query:Se,matched:Pt,href:St}=_.routeData.resolvedLink.value,xe=Object.keys(Se).length;if(O===!0){if(W!==B||xe!==T||ze(R,Se)===!1)continue;l=_.name.value;break}if(W!==""&&W!==B||xe!==0&&ze(Se,R)===!1)continue;const J={matchedLen:Pt.length,queryDiff:T-xe,hrefLen:St.length-W.length};if(J.matchedLen>r.matchedLen){l=_.name.value,r=J;continue}else if(J.matchedLen!==r.matchedLen)continue;if(J.queryDiff<r.queryDiff)l=_.name.value,r=J;else if(J.queryDiff!==r.queryDiff)continue;J.hrefLen>r.hrefLen&&(l=_.name.value,r=J)}if(l===null&&p.some(_=>_.routeData===void 0&&_.name.value===L.value)===!0){he=!1;return}Y({name:l,setCurrent:!0})}function gt(l){if(P(),N.value!==!0&&w.value!==null&&l.target&&typeof l.target.closest=="function"){const r=l.target.closest(".q-tab");r&&w.value.contains(r)===!0&&(N.value=!0,q.value===!0&&ne(r))}}function yt(){k(()=>{N.value=!1},30)}function ie(){Ve.avoidRouteWatcher===!1?f(Ct):A()}function Oe(){if(y===void 0){const l=ce(()=>i.$route.fullPath,ie);y=()=>{l(),y=void 0}}}function _t(l){p.push(l),G.value++,be(),l.routeData===void 0||i.$route===void 0?f(()=>{if(q.value===!0){const r=L.value,m=r!=null&&r!==""?p.find(B=>B.name.value===r):null;m&&ne(m.rootRef.value)}}):(Oe(),l.routeData.hasRouterLink.value===!0&&ie())}function kt(l){p.splice(p.indexOf(l),1),G.value--,be(),y!==void 0&&l.routeData!==void 0&&(p.every(r=>r.routeData===void 0)===!0&&y(),ie())}const Ve={currentModel:L,tabProps:b,hasFocus:N,hasActiveTab:me,registerTab:_t,unregisterTab:kt,verifyRouteModel:ie,updateModel:Y,onKbdNavigate:bt,avoidRouteWatcher:!1};Gt(lt,Ve);function Fe(){z!==null&&clearTimeout(z),Z(),y!==void 0&&y()}let je,he;return ot(Fe),Bt(()=>{je=y!==void 0,Fe()}),Rt(()=>{je===!0&&(Oe(),he=!0,ie()),be()}),()=>$("div",{ref:w,class:ke.value,role:"tablist",onFocusin:gt,onFocusout:yt},[$(ct,{onResize:Ee}),$("div",{ref:D,class:Pe.value,onScroll:ae},fe(a.default)),$(te,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Me,onTouchstartPassive:Me,onMouseupPassive:Z,onMouseleavePassive:Z,onTouchendPassive:Z}),$(te,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(j.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Ne,onTouchstartPassive:Ne,onMouseupPassive:Z,onMouseleavePassive:Z,onTouchendPassive:Z})])}});function _n(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,i)=>{const n=parseFloat(o);n&&(a[i]=n)}),a}const kn=Et({name:"touch-swipe",beforeMount(e,{value:a,arg:o,modifiers:i}){if(i.mouse!==!0&&re.has.touch!==!0)return;const n=i.mouseCapture===!0?"Capture":"",t={handler:a,sensitivity:_n(o),direction:Ye(i),noop:Qt,mouseStart(s){Ze(s,t)&&Mt(s)&&(pe(t,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(s,!0))},touchStart(s){if(Ze(s,t)){const d=s.target;pe(t,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),t.start(s)}},start(s,d){re.is.firefox===!0&&Te(e,!0);const k=He(s);t.event={x:k.left,y:k.top,time:Date.now(),mouse:d===!0,dir:!1}},move(s){if(t.event===void 0)return;if(t.event.dir!==!1){ge(s);return}const d=Date.now()-t.event.time;if(d===0)return;const k=He(s),P=k.left-t.event.x,f=Math.abs(P),A=k.top-t.event.y,w=Math.abs(A);if(t.event.mouse!==!0){if(f<t.sensitivity[1]&&w<t.sensitivity[1]){t.end(s);return}}else if(window.getSelection().toString()!==""){t.end(s);return}else if(f<t.sensitivity[2]&&w<t.sensitivity[2])return;const D=f/d,L=w/d;t.direction.vertical===!0&&f<w&&f<100&&L>t.sensitivity[0]&&(t.event.dir=A<0?"up":"down"),t.direction.horizontal===!0&&f>w&&w<100&&D>t.sensitivity[0]&&(t.event.dir=P<0?"left":"right"),t.direction.up===!0&&f<w&&A<0&&f<100&&L>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&f<w&&A>0&&f<100&&L>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&f>w&&P<0&&w<100&&D>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&f>w&&P>0&&w<100&&D>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(ge(s),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Wt(),t.styleCleanup=q=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const M=()=>{document.body.classList.remove("no-pointer-events--children")};q===!0?setTimeout(M,50):M()}),t.handler({evt:s,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:d,distance:{x:f,y:w}})):t.end(s)},end(s){t.event!==void 0&&(qe(t,"temp"),re.is.firefox===!0&&Te(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),s!==void 0&&t.event.dir!==!1&&ge(s),t.event=void 0)}};if(e.__qtouchswipe=t,i.mouse===!0){const s=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";pe(t,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}re.has.touch===!0&&pe(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const o=e.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=Ye(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(qe(a,"main"),qe(a,"temp"),re.is.firefox===!0&&Te(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function Pn(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const Sn={name:{required:!0},disable:Boolean},nt={setup(e,{slots:a}){return()=>$("div",{class:"q-panel scroll",role:"tabpanel"},fe(a.default))}},xn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},wn=["update:modelValue","beforeTransition","transition"];function Tn(){const{props:e,emit:a,proxy:o}=le(),{getCache:i}=Pn(),{registerTimeout:n}=Ae();let t,s;const d=V(null),k={value:null};function P(v){const I=e.vertical===!0?"up":"left";y((o.$q.lang.rtl===!0?-1:1)*(v.direction===I?1:-1))}const f=h(()=>[[kn,P,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),A=h(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),w=h(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),D=h(()=>`--q-transition-duration: ${e.transitionDuration}ms`),L=h(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),q=h(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),M=h(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ce(()=>e.modelValue,(v,I)=>{const F=G(v)===!0?N(v):-1;s!==!0&&c(F===-1?0:F<N(I)?-1:1),k.value!==F&&(k.value=F,a("beforeTransition",v,I),n(()=>{a("transition",v,I)},e.transitionDuration))});function j(){y(1)}function K(){y(-1)}function p(v){a("update:modelValue",v)}function G(v){return v!=null&&v!==""}function N(v){return t.findIndex(I=>I.props.name===v&&I.props.disable!==""&&I.props.disable!==!0)}function z(){return t.filter(v=>v.props.disable!==""&&v.props.disable!==!0)}function c(v){const I=v!==0&&e.animated===!0&&k.value!==-1?"q-transition--"+(v===-1?A.value:w.value):null;d.value!==I&&(d.value=I)}function y(v,I=k.value){let F=I+v;for(;F!==-1&&F<t.length;){const Y=t[F];if(Y!==void 0&&Y.props.disable!==""&&Y.props.disable!==!0){c(v),s=!0,a("update:modelValue",Y.props.name),setTimeout(()=>{s=!1});return}F+=v}e.infinite===!0&&t.length!==0&&I!==-1&&I!==t.length&&y(v,v===-1?t.length:-1)}function b(){const v=N(e.modelValue);return k.value!==v&&(k.value=v),!0}function me(){const v=G(e.modelValue)===!0&&b()&&t[k.value];return e.keepAlive===!0?[$(zt,q.value,[$(M.value===!0?i(L.value,()=>({...nt,name:L.value})):nt,{key:L.value,style:D.value},()=>v)])]:[$("div",{class:"q-panel scroll",style:D.value,key:L.value,role:"tabpanel"},[v])]}function _e(){if(t.length!==0)return e.animated===!0?[$(st,{name:d.value},me)]:me()}function ke(v){return t=Nt(fe(v.default,[])).filter(I=>I.props!==null&&I.props.slot===void 0&&G(I.props.name)===!0),t.length}function Pe(){return t}return Object.assign(o,{next:j,previous:K,goTo:p}),{panelIndex:k,panelDirectives:f,updatePanelsList:ke,updatePanelIndex:b,getPanelContent:_e,getEnabledPanels:z,getPanels:Pe,isValidPanelName:G,keepAliveProps:q,needsUniqueKeepAliveWrapper:M,goToPanelByOffset:y,goToPanel:p,nextPanel:j,previousPanel:K}}const at=oe({name:"QTabPanel",props:Sn,setup(e,{slots:a}){return()=>$("div",{class:"q-tab-panel",role:"tabpanel"},fe(a.default))}}),qn=oe({name:"QTabPanels",props:{...xn,...it},emits:wn,setup(e,{slots:a}){const o=le(),i=rt(e,o.proxy.$q),{updatePanelsList:n,getPanelContent:t,panelDirectives:s}=Tn(),d=h(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(a),Ot("div",{class:d.value},t(),"pan",e.swipeable,()=>s.value))}}),In=oe({name:"QInnerLoading",props:{...it,...Vt,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:a}){const o=le(),i=rt(e,o.proxy.$q),{transitionProps:n,transitionStyle:t}=Ft(e),s=h(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),d=h(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function k(){const f=[$(jt,{size:e.size,color:e.color})];return e.label!==void 0&&f.push($("div",{class:d.value,style:e.labelStyle},[e.label])),f}function P(){return e.showing===!0?$("div",{class:s.value,style:t.value},a.default!==void 0?a.default():k()):null}return()=>$(st,n.value,P)}}),$n={class:"row justify-center items-center q-col-gutter-x-sm"},An={class:"col-auto text-caption"},Ln={class:"col-auto text-caption text-blue"},Dn={class:"col-auto text-caption text-blue"},Gn={class:"col-auto text-caption text-purple"},Bn={class:"col-auto text-caption text-red"},Rn={class:"col-auto text-caption text-red"},En={class:"col-auto text-caption"},Qn=se({__name:"CharacterCountIndicator",props:{townsfolkCount:{type:Number,required:!0},outsiderCount:{type:Number,required:!0},travelerCount:{type:Number,required:!0},minionCount:{type:Number,required:!0},demonCount:{type:Number,required:!0},totalCount:{type:Number,required:!0},unknownCount:{type:Number,required:!1,default:void 0}},setup(e){const a=e,{t:o}=ve();return(i,n)=>(g(),U("div",$n,[x("div",An,Q(u(o)("Game.TotalPlayerCountLabel",{Count:a.totalCount})),1),n[1]||(n[1]=x("div",{class:"col-auto text-caption"},"·",-1)),x("div",Ln,Q(u(o)("Game.TownsfolkCountLabel",{Count:a.townsfolkCount})),1),n[2]||(n[2]=x("div",{class:"col-auto text-caption"},"·",-1)),x("div",Dn,Q(u(o)("Game.OutsiderCountLabel",{Count:a.outsiderCount})),1),n[3]||(n[3]=x("div",{class:"col-auto text-caption"},"·",-1)),x("div",Gn,Q(u(o)("Game.TravelerCountLabel",{Count:a.travelerCount})),1),n[4]||(n[4]=x("div",{class:"col-auto text-caption"},"·",-1)),x("div",Bn,Q(u(o)("Game.MinionCountLabel",{Count:a.minionCount})),1),n[5]||(n[5]=x("div",{class:"col-auto text-caption"},"·",-1)),x("div",Rn,Q(u(o)("Game.DemonCountLabel",{Count:a.demonCount})),1),a.unknownCount!==void 0?(g(),U(Be,{key:0},[n[0]||(n[0]=x("div",{class:"col-auto text-caption"},"·",-1)),x("div",En,Q(u(o)("Game.UnknownCountLabel",{Count:a.unknownCount})),1)],64)):ee("",!0)]))}}),Mn={key:0,class:"text-positive text-caption"},Nn=se({__name:"PlayerList",props:{edition:{type:String,required:!0},items:{type:Array,required:!0}},setup(e){const a=e,{t:o}=ve(),i=Ht();dt();function n(t){const s=Re(a.edition,t);return o(s!==void 0?s.Label:"General.Unknown")}return(t,s)=>(g(),E(De,{separator:""},{default:S(()=>[(g(!0),U(Be,null,ut(a.items,d=>(g(),E(Xt,{key:d.Id,"hide-expand-icon":d.IsCurrentPlayer},{default:S(()=>[C(Ce,{class:ye({"inactive-player":!d.IsActive}),side:""},{default:S(()=>[C(vt,{edition:a.edition,character:d.Character},null,8,["edition","character"])]),_:2},1032,["class"]),C(Ce,{class:ye({"inactive-player":!d.IsActive})},{default:S(()=>[C(Ie,null,{default:S(()=>[de(Q(u(o)("Game.PlayerLabel",{Number:d.Number}))+" ",1),d.IsCurrentPlayer?(g(),U("span",Mn,Q(u(o)("Game.CurrentPlayerLabel")),1)):ee("",!0)]),_:2},1024),C(Ie,{caption:""},{default:S(()=>[de(Q(n(d.Character)),1)]),_:2},1024),d.IsActive?ee("",!0):(g(),E(Ie,{key:0,class:"text-negative",caption:""},{default:S(()=>[de(Q(u(o)("Game.InactiveLabel")),1)]),_:1}))]),_:2},1032,["class"]),d.IsConfirmed?(g(),E(Ce,{key:0,side:""},{default:S(()=>[C(te,{name:"sym_s_done_all",size:"sm",color:"positive"})]),_:1})):ee("",!0),u(i).actions!==void 0?(g(),E(Ce,{key:1,side:""},{default:S(()=>[Ge(t.$slots,"actions",{player:d})]),_:2},1024)):ee("",!0)]),_:2},1032,["hide-expand-icon"]))),128))]),_:3}))}}),zn={class:"row q-col-gutter-sm"},On={class:"col-3 min-width-fit-content text-right"},Vn={class:"col-auto text-center"},Fn={class:"col-auto text-caption text-center"},jn={key:0,class:"col-auto text-caption text-center text-negative"},Hn={key:1,class:"col-auto text-caption text-center text-positive"},Un={key:2,class:"col-auto row justify-center items-center q-col-gutter-x-sm"},Kn={class:"col-auto"},Wn={class:"col-auto text-caption text-positive"},Xn=se({__name:"PlayerGrid",props:{edition:{type:String,required:!0},items:{type:Array,required:!0}},setup(e){const a=e,{t:o}=ve();function i(n){const t=Re(a.edition,n);return o(t!==void 0?t.Label:"General.Unknown")}return(n,t)=>(g(),U("div",zn,[(g(!0),U(Be,null,ut(a.items,s=>(g(),U("div",{class:"col-xs-4 col-sm-3 col-md-2",key:s.Id},[C(Ut,{class:"fit q-hoverable",flat:"",bordered:""},{default:S(()=>[C(Ue,{class:"row items-center q-pa-none"},{default:S(()=>[t[0]||(t[0]=x("div",{class:"col-3"},null,-1)),x("div",{class:ye(["col text-center text-caption",{"inactive-player":!s.IsActive}])},Q(u(o)("Game.PlayerLabel",{Number:s.Number})),3),x("div",On,[Ge(n.$slots,"actions",{player:s})])]),_:2},1024),C(Ue,{class:ye(["column no-wrap q-col-gutter-y-xs q-pa-xs",{"inactive-player":!s.IsActive}])},{default:S(()=>[x("div",Vn,[C(vt,{edition:a.edition,character:s.Character},null,8,["edition","character"])]),x("div",Fn,Q(i(s.Character)),1),s.IsActive?ee("",!0):(g(),U("div",jn,Q(u(o)("Game.InactiveLabel")),1)),s.IsCurrentPlayer?(g(),U("div",Hn,Q(u(o)("Game.CurrentPlayerLabel")),1)):s.IsConfirmed?(g(),U("div",Un,[x("div",Kn,[C(te,{name:"sym_s_done_all",size:"xs",color:"positive"})]),x("div",Wn,Q(u(o)("Game.Confirmed")),1)])):ee("",!0)]),_:2},1032,["class"])]),_:2},1024)]))),128))]))}}),Yn={class:"column fit"},Zn={class:"col-auto q-my-sm"},Jn={class:"col-auto"},ea={class:"col-auto"},ta={class:"column items-center q-col-gutter-y-sm"},na={class:"col-auto"},aa={class:"col-autotext-weight-bold"},oa=se({__name:"PlayerArea",props:{session:{type:Object,required:!0}},emits:["characterSet","playerConfirm","playerDisprove","playerSetInactive","playerSetActive"],setup(e,{emit:a}){const o=e,i=a,{t:n}=ve(),t=V("list"),s=ft(Yt),d=h(()=>o.session.Players.filter(c=>c.IsActive).length),k=h(()=>o.session.Players.filter(c=>M(c.Character,ue.Townsfolk)&&c.IsActive).length),P=h(()=>o.session.Players.filter(c=>M(c.Character,ue.Outsider)&&c.IsActive).length),f=h(()=>o.session.Players.filter(c=>M(c.Character,ue.Traveler)&&c.IsActive).length),A=h(()=>o.session.Players.filter(c=>M(c.Character,ue.Minion)&&c.IsActive).length),w=h(()=>o.session.Players.filter(c=>M(c.Character,ue.Demon)&&c.IsActive).length),D=h(()=>o.session.Players.filter(c=>c.Character===void 0&&c.IsActive).length),L=h(()=>o.session.Players.slice().sort((c,y)=>c.IsActive!=y.IsActive?Number(y.IsActive)-Number(c.IsActive):c.Number-y.Number)),{PlainColor:q}=dt();function M(c,y){if(c===void 0)return!1;const b=Re(o.session.Edition,c);return b!==void 0&&b.Type==y}async function j(c){const y=await Zt(o.session.Edition);y!==void 0&&i("characterSet",c,y)}async function K(c){await Jt(o.session.Edition,c)}function p(c){i("playerConfirm",c)}function G(c){i("playerDisprove",c)}function N(c){i("playerSetInactive",c)}function z(c){i("playerSetActive",c)}return(c,y)=>(g(),U("div",Yn,[C(yn,{class:"col-auto text-primary",modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=b=>t.value=b),align:"justify","outside-arrows":"","no-caps":""},{default:S(()=>[C(tt,{name:"list",label:u(n)("Game.ListTab")},null,8,["label"]),C(tt,{name:"grid",label:u(n)("Game.GridTab")},null,8,["label"])]),_:1},8,["modelValue"]),x("div",Zn,[t.value=="list"||t.value=="grid"?(g(),E(Qn,{key:0,townsfolkCount:k.value,outsiderCount:P.value,travelerCount:f.value,minionCount:A.value,demonCount:w.value,totalCount:d.value,unknownCount:D.value},null,8,["townsfolkCount","outsiderCount","travelerCount","minionCount","demonCount","totalCount","unknownCount"])):ee("",!0)]),x("div",Jn,[C(Ke)]),C(qn,{modelValue:t.value,"onUpdate:modelValue":y[3]||(y[3]=b=>t.value=b),class:"col fit","keep-alive":"",animated:""},{default:S(()=>[C(at,{class:"fit q-pa-none",name:"list"},{default:S(()=>[o.session.Players.length>0?(g(),E(Nn,{key:0,class:"scroll",edition:o.session.Edition,items:L.value,separator:""},{actions:S(({player:b})=>[C(Le,{icon:"sym_s_more_vert",onClick:y[1]||(y[1]=We(()=>{},["stop"])),flat:"",round:""},{default:S(()=>[C(Je,{"auto-close":"","non-square":""},{default:S(()=>[C(De,null,{default:S(()=>[C(H,{label:u(n)("Game.SetCharacter"),onClick:()=>j(b.Id),icon:"sym_s_person",color:u(q)},null,8,["label","onClick","color"]),b.IsConfirmed?(g(),E(H,{key:0,label:u(n)("Game.DisproveCharacter"),onClick:()=>G(b.Id),icon:"sym_s_remove_done",color:u(q)},null,8,["label","onClick","color"])):(g(),E(H,{key:1,label:u(n)("Game.ConfirmCharacter"),onClick:()=>p(b.Id),icon:"sym_s_done_all",color:u(q)},null,8,["label","onClick","color"])),C(H,{label:u(n)("Game.Information"),disable:b.Character===void 0,onClick:()=>K(b.Character),icon:"sym_s_contact_page",color:u(q)},null,8,["label","disable","onClick","color"]),b.IsActive?(g(),E(H,{key:2,label:u(n)("Game.SetInactive"),onClick:()=>N(b.Id),disable:b.IsCurrentPlayer,icon:"sym_s_block",color:u(q)},null,8,["label","onClick","disable","color"])):(g(),E(H,{key:3,label:u(n)("Game.SetActive"),onClick:()=>z(b.Id),disable:b.IsCurrentPlayer,icon:"sym_s_restart_alt",color:u(q)},null,8,["label","onClick","disable","color"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["edition","items"])):(g(),E(et,{key:1},{default:S(()=>[de(Q(u(n)("Game.PlayersEmpty")),1)]),_:1}))]),_:1}),C(at,{class:"fit q-pa-xs",name:"grid"},{default:S(()=>[o.session.Players.length>0?(g(),E(Xn,{key:0,edition:o.session.Edition,items:L.value},{actions:S(({player:b})=>[C(Le,{icon:"sym_s_more_vert",size:"sm",onClick:y[2]||(y[2]=We(()=>{},["stop"])),flat:"",round:""},{default:S(()=>[C(Je,{"auto-close":"","non-square":""},{default:S(()=>[C(De,null,{default:S(()=>[C(H,{label:u(n)("Game.SetCharacter"),onClick:()=>j(b.Id),icon:"sym_s_person",color:u(q)},null,8,["label","onClick","color"]),b.IsConfirmed?(g(),E(H,{key:0,label:u(n)("Game.DisproveCharacter"),onClick:()=>G(b.Id),icon:"sym_s_remove_done",color:u(q)},null,8,["label","onClick","color"])):(g(),E(H,{key:1,label:u(n)("Game.ConfirmCharacter"),onClick:()=>p(b.Id),icon:"sym_s_done_all",color:u(q)},null,8,["label","onClick","color"])),C(H,{label:u(n)("Game.Information"),disable:b.Character===void 0,onClick:()=>K(b.Character),icon:"sym_s_contact_page",color:u(q)},null,8,["label","disable","onClick","color"]),b.IsActive?(g(),E(H,{key:2,label:u(n)("Game.SetInactive"),onClick:()=>N(b.Id),disable:b.IsCurrentPlayer,icon:"sym_s_block",color:u(q)},null,8,["label","onClick","disable","color"])):(g(),E(H,{key:3,label:u(n)("Game.SetActive"),onClick:()=>z(b.Id),disable:b.IsCurrentPlayer,icon:"sym_s_restart_alt",color:u(q)},null,8,["label","onClick","disable","color"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["edition","items"])):(g(),E(et,{key:1},{default:S(()=>[de(Q(u(n)("General.ListEmpty")),1)]),_:1}))]),_:1})]),_:1},8,["modelValue"]),x("div",ea,[C(Ke)]),C(In,{class:"blurred",showing:u(s)},{default:S(()=>[x("div",ta,[x("div",na,[C(te,{name:"sym_s_visibility_off",size:"xl"})]),x("div",aa,Q(u(n)("Game.GameAreaHidden")),1)])]),_:1},8,["showing"])]))}}),la={key:1,class:"col fit flex flex-center"},sa={class:"column q-col-gutter-y-md"},ia={class:"col-auto text-center"},va=se({__name:"IndexPage",setup(e){const{t:a}=ve(),o=ft(en);async function i(){const P=await tn();if(P===void 0)return;const f=nn(P.Edition,P.PlayerCount);if(f===void 0){await an(a("General.Error"),a("Game.CreatePlayerSessionError"));return}on(f)}function n(P,f){ln(P,f)}function t(P){sn(P)}function s(P){rn(P)}function d(P){un(P)}function k(P){cn(P)}return(P,f)=>(g(),E(vn,{class:"column"},{default:S(()=>[u(o)!==void 0?(g(),E(oa,{key:0,class:"col fit scroll",session:u(o),onCharacterSet:f[0]||(f[0]=(A,w)=>n(A,w)),onPlayerConfirm:f[1]||(f[1]=A=>t(A)),onPlayerDisprove:f[2]||(f[2]=A=>s(A)),onPlayerSetInactive:f[3]||(f[3]=A=>d(A)),onPlayerSetActive:f[4]||(f[4]=A=>k(A))},null,8,["session"])):(g(),U("div",la,[x("div",sa,[x("div",ia,[C(Le,{label:u(a)("Game.CreateGame"),onClick:f[5]||(f[5]=()=>i()),unelevated:"",color:"primary","no-caps":""},null,8,["label"])])])]))]),_:1}))}});export{va as default};
