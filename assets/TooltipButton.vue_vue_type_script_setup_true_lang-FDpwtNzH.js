import{c as oe,u as se,ao as y,A as ie,j as re,r as k,a as u,ac as ue,m as ce,ap as de,n as fe,aA as ge,w as E,o as q,al as x,ai as _,C as he,h as B,am as me,g as ve,b as be,ab as pe,L as ye,O as H,P as L,Q as A,S as D,$ as Te,V as Se,Y as Pe,a6 as we,a0 as Ce,X as Oe}from"./index-CO9n1Tws.js";import{X as ke,Y as j,Z as Ee,a0 as M,a1 as qe,a2 as xe,a3 as Q,a4 as _e,v as N,a5 as Be,C as He}from"./_plugin-vue_export-helper-D0AqdkS5.js";const Le=oe({name:"QTooltip",inheritAttrs:!1,props:{...ke,...se,...y,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...y.transitionShow,default:"jump-down"},transitionHide:{...y.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:j},self:{type:String,default:"top middle",validator:j},offset:{type:Array,default:()=>[14,14],validator:Ee},scrollTarget:ie,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...re],setup(e,{slots:a,emit:g,attrs:i}){let o,r;const v=ve(),{proxy:{$q:n}}=v,c=k(null),h=k(!1),V=u(()=>M(e.anchor,n.lang.rtl)),W=u(()=>M(e.self,n.lang.rtl)),$=u(()=>e.persistent!==!0),{registerTick:I,removeTick:R}=ue(),{registerTimeout:m}=ce(),{transitionProps:X,transitionStyle:Y}=de(e),{localScrollTarget:T,changeScrollEvent:G,unconfigureScrollTarget:U}=qe(e,C),{anchorEl:l,canShow:Z,anchorEvents:d}=xe({showing:h,configureAnchorEl:ae}),{show:z,hide:b}=fe({showing:h,canShow:Z,handleShow:J,handleHide:K,hideOnRouteChange:$,processOnMount:!0});Object.assign(d,{delayShow:ee,delayHide:te});const{showPortal:S,hidePortal:P,renderPortal:F}=ge(v,c,le,"tooltip");if(n.platform.is.mobile===!0){const t={anchorEl:l,innerRef:c,onClickOutside(s){return b(s),s.target.classList.contains("q-dialog__backdrop")&&pe(s),!0}},p=u(()=>e.modelValue===null&&e.persistent!==!0&&h.value===!0);E(p,s=>{(s===!0?Be:Q)(t)}),q(()=>{Q(t)})}function J(t){S(),I(()=>{r=new MutationObserver(()=>f()),r.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),f(),C()}),o===void 0&&(o=E(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,f)),m(()=>{S(!0),g("show",t)},e.transitionDuration)}function K(t){R(),P(),w(),m(()=>{P(!0),g("hide",t)},e.transitionDuration)}function w(){r!==void 0&&(r.disconnect(),r=void 0),o!==void 0&&(o(),o=void 0),U(),x(d,"tooltipTemp")}function f(){_e({targetEl:c.value,offset:e.offset,anchorEl:l.value,anchorOrigin:V.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ee(t){if(n.platform.is.mobile===!0){N(),document.body.classList.add("non-selectable");const p=l.value,s=["touchmove","touchcancel","touchend","click"].map(O=>[p,O,"delayHide","passiveCapture"]);_(d,"tooltipTemp",s)}m(()=>{z(t)},e.delay)}function te(t){n.platform.is.mobile===!0&&(x(d,"tooltipTemp"),N(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),m(()=>{b(t)},e.hideDelay)}function ae(){if(e.noParentEvent===!0||l.value===null)return;const t=n.platform.is.mobile===!0?[[l.value,"touchstart","delayShow","passive"]]:[[l.value,"mouseenter","delayShow","passive"],[l.value,"mouseleave","delayHide","passive"]];_(d,"anchor",t)}function C(){if(l.value!==null||e.scrollTarget!==void 0){T.value=he(l.value,e.scrollTarget);const t=e.noParentEvent===!0?f:b;G(T.value,t)}}function ne(){return h.value===!0?B("div",{...i,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",i.class],style:[i.style,Y.value],role:"tooltip"},be(a.default)):null}function le(){return B(me,X.value,ne)}return q(w),Object.assign(v.proxy,{updatePosition:f}),F}}),je=ye({__name:"TooltipButton",props:{label:{type:String,required:!1,default:void 0},showLabel:{type:Boolean,required:!1,default:!1},toggled:{type:Boolean,required:!1,default:!1},disable:{type:Boolean,required:!1,default:!1}},setup(e){const a=e,g=u(()=>!a.disable&&!a.showLabel&&a.label!==void 0&&String(a.label).length>0),i=u(()=>{if(a.label!==void 0&&String(a.label).length>0)return String(a.label)});return(o,r)=>(H(),L(D(Oe),Ce(a,{class:{"q-btn--toggled q-btn--outline":a.toggled},label:a.showLabel?i.value:void 0,disable:a.disable}),{default:A(()=>[g.value?(H(),L(Le,{key:0,delay:D(He).General.TooltipDelay},{default:A(()=>[Te(Se(i.value),1)]),_:1},8,["delay"])):Pe("",!0),we(o.$slots,"default")]),_:3},16,["class","label","disable"]))}});export{Le as Q,je as _};
